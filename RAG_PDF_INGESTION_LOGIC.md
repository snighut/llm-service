┌─────────────────────────────────────────────────────────────┐
│                      Kubernetes Cluster                      │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ┌─────────────────┐                                         │
│  │  Ingress/LB     │                                         │
│  └────────┬────────┘                                         │
│           │                                                   │
│           ▼                                                   │
│  ┌─────────────────┐         ┌──────────────┐              │
│  │   API Pods      │────────▶│    Redis     │              │
│  │  (WORKER_ONLY=  │  Enqueue│  (BullMQ)    │              │
│  │     false)      │   Jobs  │              │              │
│  │  - Port 3000    │         └──────┬───────┘              │
│  │  - POST /ingest │                │                       │
│  │  - GET /status  │                │ Dequeue               │
│  └─────────────────┘                │ Jobs                  │
│   Replicas: 2-3                     │                       │
│                                     ▼                        │
│                          ┌─────────────────┐                │
│                          │  Worker Pods    │                │
│                          │  (WORKER_ONLY=  │                │
│                          │     true)       │───────┐        │
│                          │  - No HTTP      │       │        │
│                          │  - Process jobs │       │        │
│                          └─────────────────┘       │        │
│                           Replicas: 3-5            │        │
│                                                     │        │
│                                          Store     ▼        │
│                                          Chunks  ┌─────┐    │
│                                          +       │     │    │
│                                          Vectors │Qdrant    │
│                                                  │     │    │
│                                                  └─────┘    │
│                                                             │
│  ┌─────────────────┐                                       │
│  │  PVC/S3         │  ◀─── Workers fetch PDFs             │
│  │  (PDF Storage)  │                                       │
│  └─────────────────┘                                       │
└─────────────────────────────────────────────────────────────┘